    <div class="layout-container">
    <div class="main-content">
        <div class="content-wrapper">
        <div class="page-container">
            <!-- Page Header -->
            <div class="page-header">
            <h2>Leave Type Management</h2>
            <p class="text-muted">Manage different types of leave available for employees</p>
            </div>

            <!-- Action Card -->
            <div class="action-cards">
            <div class="card action-card">
                <div class="card-body">
                <h5 class="card-title">
                    <i class="bi bi-plus-circle"></i> Add Leave Type
                </h5>
                <p class="card-text">Create a new leave type with custom settings</p>
                <button class="btn btn-primary" (click)="openAddModal()">
                    <i class="bi bi-plus-lg"></i> Add New
                </button>
                </div>
            </div>

            <div class="card stats-card">
                <div class="card-body">
                <h5 class="card-title">
                    <i class="bi bi-pie-chart"></i> Statistics
                </h5>
                <div class="stats-grid">
                    <div class="stat-item">
                    <span class="stat-label">Total Types</span>
                    <span class="stat-value">{{ leaveTypes.length }}</span>
                    </div>
                    <div class="stat-item">
                    <span class="stat-label">Active</span>
                    <span class="stat-value active">{{ getActiveCount() }}</span>
                    </div>
                    <div class="stat-item">
                    <span class="stat-label">Inactive</span>
                    <span class="stat-value inactive">{{ getInactiveCount() }}</span>
                    </div>
                </div>
                </div>
            </div>
            </div>

            <!-- Filters and Search -->
            <div class="card filters-card">
            <div class="card-body">
                <div class="filters-row">
                <div class="search-box">
                    <i class="bi bi-search"></i>
                    <input 
                    type="text" 
                    class="form-control" 
                    placeholder="Search leave types..."
                    [(ngModel)]="searchTerm"
                    (ngModelChange)="onSearchChange()">
                </div>
                
                <div class="filter-group">
                    <label>Status:</label>
                    <select [(ngModel)]="filterActive" (ngModelChange)="onFilterChange()" class="form-select">
                    <option value="all">All</option>
                    <option value="active">Active Only</option>
                    <option value="inactive">Inactive Only</option>
                    </select>
                </div>

                <button class="btn btn-outline-primary" (click)="loadLeaveTypes()">
                    <i class="bi bi-arrow-clockwise"></i> Refresh
                </button>
                </div>
            </div>
            </div>

            <!-- Leave Types Table -->
            <div class="card table-card">
            <div class="card-body">
                <div class="table-header">
                <h5 class="card-title">Leave Types List</h5>
                <span class="badge">{{ filteredLeaveTypes.length }} types</span>
                </div>

                <div *ngIf="isLoading" class="loading-spinner">
                <div class="spinner"></div>
                <p>Loading leave types...</p>
                </div>

                <div *ngIf="!isLoading && filteredLeaveTypes.length === 0" class="empty-state">
                <i class="bi bi-inbox"></i>
                <p>No leave types found</p>
                </div>

                <div *ngIf="!isLoading && filteredLeaveTypes.length > 0" class="table-responsive">
                <table class="table">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Max Days/Year</th>
                        <th>Features</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let leaveType of filteredLeaveTypes">
                        <td class="leave-type-name">
                        <div class="name-cell">
                            <i class="bi bi-calendar-check"></i>
                            <div>
                            <strong>{{ leaveType.name }}</strong>
                            <small *ngIf="leaveType.description">{{ leaveType.description }}</small>
                            </div>
                        </div>
                        </td>
                        <td>
                        <span class="days-badge">
                            {{ leaveType.maxDaysPerYear || 'Unlimited' }}
                        </span>
                        </td>
                        <td>
                        <div class="features-cell">
                            <span class="feature-badge" [class.active]="leaveType.isPaid" title="Paid Leave">
                            <i class="bi bi-currency-dollar"></i>
                            {{ leaveType.isPaid ? 'Paid' : 'Unpaid' }}
                            </span>
                            <span class="feature-badge" [class.active]="leaveType.requiresApproval" title="Requires Approval">
                            <i class="bi bi-check-circle"></i>
                            {{ leaveType.requiresApproval ? 'Approval' : 'No Approval' }}
                            </span>
                            <span class="feature-badge" [class.active]="leaveType.requiresAttachment" title="Requires Attachment">
                            <i class="bi bi-paperclip"></i>
                            {{ leaveType.requiresAttachment ? 'Attachment' : 'No Attachment' }}
                            </span>
                        </div>
                        </td>
                        <td>
                        <span class="status-badge" [class.active]="leaveType.isActive" [class.inactive]="!leaveType.isActive">
                            <i class="bi" [class.bi-check-circle]="leaveType.isActive" [class.bi-x-circle]="!leaveType.isActive"></i>
                            {{ leaveType.isActive ? 'Active' : 'Inactive' }}
                        </span>
                        </td>
                        <td class="actions-cell">
                        <button 
                            class="btn btn-sm btn-edit" 
                            (click)="openEditModal(leaveType)"
                            title="Edit">
                            <i class="bi bi-pencil"></i>
                        </button>
                        <button 
                            class="btn btn-sm btn-delete" 
                            (click)="deleteLeaveType(leaveType.id, leaveType.name)"
                            title="Delete">
                            <i class="bi bi-trash"></i>
                        </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
                </div>
            </div>
            </div>
        </div>
        </div>
    </div>
    </div>

    <!-- Add/Edit Modal -->
    <div class="modal-overlay" *ngIf="showModal" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
        <div class="modal-header">
        <h5>{{ isEditMode ? 'Edit Leave Type' : 'Add New Leave Type' }}</h5>
        <button class="btn-close" (click)="closeModal()">
            <i class="bi bi-x-lg"></i>
        </button>
        </div>
        
        <form [formGroup]="leaveTypeForm" (ngSubmit)="saveLeaveType()">
        <div class="modal-body">
            <div class="form-group">
            <label for="name">Leave Type Name *</label>
            <input 
                type="text" 
                id="name"
                class="form-control" 
                formControlName="name"
                placeholder="e.g., Annual Leave, Sick Leave">
            <div class="error-message" *ngIf="leaveTypeForm.get('name')?.invalid && leaveTypeForm.get('name')?.touched">
                Name is required (min 3 characters)
            </div>
            </div>

            <div class="form-group">
            <label for="description">Description</label>
            <textarea 
                id="description"
                class="form-control" 
                formControlName="description"
                rows="3"
                placeholder="Describe this leave type..."></textarea>
            </div>

            <div class="form-group">
            <label for="maxDaysPerYear">Maximum Days Per Year</label>
            <input 
                type="number" 
                id="maxDaysPerYear"
                class="form-control" 
                formControlName="maxDaysPerYear"
                placeholder="Leave empty for unlimited"
                min="0"
                max="365">
            <small class="form-text">Leave empty for unlimited days</small>
            <div class="error-message" *ngIf="leaveTypeForm.get('maxDaysPerYear')?.invalid && leaveTypeForm.get('maxDaysPerYear')?.touched">
                Must be between 0 and 365
            </div>
            </div>

            <div class="checkbox-group">
            <div class="checkbox-item">
                <label class="checkbox-label">
                <input 
                    type="checkbox" 
                    formControlName="isPaid">
                <span class="checkbox-custom"></span>
                <div class="checkbox-content">
                    <strong>Paid Leave</strong>
                    <small>Employee receives full salary during this leave</small>
                </div>
                </label>
            </div>

            <div class="checkbox-item">
                <label class="checkbox-label">
                <input 
                    type="checkbox" 
                    formControlName="requiresApproval">
                <span class="checkbox-custom"></span>
                <div class="checkbox-content">
                    <strong>Requires Approval</strong>
                    <small>Manager must approve this leave request</small>
                </div>
                </label>
            </div>

            <div class="checkbox-item">
                <label class="checkbox-label">
                <input 
                    type="checkbox" 
                    formControlName="requiresAttachment">
                <span class="checkbox-custom"></span>
                <div class="checkbox-content">
                    <strong>Requires Attachment</strong>
                    <small>Employee must upload supporting documents</small>
                </div>
                </label>
            </div>

            <div class="checkbox-item">
                <label class="checkbox-label">
                <input 
                    type="checkbox" 
                    formControlName="isActive">
                <span class="checkbox-custom"></span>
                <div class="checkbox-content">
                    <strong>Active Status</strong>
                    <small>Make this leave type available for use</small>
                </div>
                </label>
            </div>
            </div>
        </div>

        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancel</button>
            <button type="submit" class="btn btn-primary" [disabled]="leaveTypeForm.invalid || isLoading">
            <i class="bi bi-check-circle"></i>
            {{ isEditMode ? 'Update' : 'Create' }} Leave Type
            </button>
        </div>
        </form>
    </div>
    </div>